---
title: "PCLinuxOS LiveCD - восстановление загрузчика Grub"
layout: post
categories: linux
tags: [pclinuxos, linux]
share: true
---

С недавних пор открыл для себя такой дистрибутив Linux как PCLinuxOS. Поставил его исключительно для того, чтобы сделать скриншоты при написании статьи. Но в процессе установки и краткого пользования мне он понравился даже больше, чем Linux Mint, которым пользовался до этого.

И все бы хорошо, но проблема подкралась незаметно. Нет, она была связана не с PCLinuxOS. Наверное, как не трудно догадаться, это была Windows XP. Я не хочу сказать, что эта операционная система так уж плоха. Хотя бы ради таких прекрасных программ, как Adobe Dreamweaver, Adobe Photoshop, AutoCAD, MS Office ее просто нужно иметь на своем компьютере.

Но вот ее нежелание видеть другие операционные системы и стремление затереть MBR вне зависимости от того, есть там какие-либо записи или нет, напрягает. Все началось с того, что я проглядел статус четвертого раздела на своем жестком диске. А надо было заметить, так как он имел флаг загрузочного раздела. И хотя Windows установилась, как я и указал, на первый раздел, но все ее главные файлы (*какие они там - не знаю*) расположились на четвертом разделе. Все логично. А четвертый раздел у меня служит в качестве мусорной ямы для всех операционок, установленных на компе.

Результат предсказать нетрудно. В один прекрасный момент я решил основательно почистить мусорку-раздел от лишний файлов. В корзину неглядя полетели и файлы Windows XP. Стоит оговориться, что эта операционная система стоит у меня исключительно для работы, ради программ Adobe Dreamweaver, Adobe Photoshop, ABBYY Lingvo. Потребность в ней у меня есть и серьезная. Поэтому я был весьма опечален, когда в очередной раз загрузил комп и выбрал в меню Windows XP. Но система лишь посоветовала мне нажать волшебную комбинацию клавиш <kbd>Ctrl+Alt+Del</kbd>.

Подумал немного и решил, что проще и быстрее мне переустановить Windows. Ничего сложного в этом нет. Но вот запись MBR была затерта. А у меня еще стоят Linux Mint и PCLinuxOS, к которым нужно открыть доступ. Хорошо, у меня сохранился PCLinuxOS LiveCD. С помощью него я быстро и в несколько шагов переустановил Grub в главную загрузочную запись жесткого диска. Ниже приведу 7 последовательный ход действий по восстановлению Grub под PCLinuxOS.

## Последовательность действий:

  * Вставляю PCLinuxOS LiveCD в дисковод и перезагружаюсь. В меню BIOS выбираю загрузку с оптического диска. Операционная система PCLinuxOS загружается на компьютер
  * Открываю терминал и захожу в нем под учетную запись `root` с помощью команды `su -`. Пароль для `root` в PCLinuxOS LiveCD имеет значение `root` (как ни странно!)
  * Ввожу команду `grub`. При этом приглашение командной строки изменится и примет вид "grub>"

![Вход в оболочку Grub]({{site.url}}/images/uploads/2013/11/grub_pclinuxos_livecd_1.jpg)

  * Задаю команду для поиска файла `stage1` - `find /boot/grub/stage1`. На моем компьютере Grub отыскал его только на одном разделе - `hd0,2`. Это абсолютно верно, так как на `/dev/sda3` установлена PCLinuxOS.
  * Ввожу команду `root (hd0,2)`
  * И устанавливаю Grub в MBR - `setup (hd0)`

![Успешная установка Grub]({{site.url}}/images/uploads/2013/11/grub_pclinuxos_livecd_2.jpg)

Задача выполнена. Выхожу из оболочки Grub - `quit`. И перезагружаюсь.

Описанный здесь способ восстановления Grub с помощью PCLinuxOS LiveCD подходит не только для этой операционной системы. Для любого случая, когда в качестве загрузчика используется Grub (но не Grub2), данное описание поможет с высокой долей вероятности.

На этом все.

---