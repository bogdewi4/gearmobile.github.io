---
layout: post
title: "Создание приподнятых теней с помощью CSS"
author: gearmobile
tags: [css, lifted shadow]
---

Создание приподнятых теней (lifted shadow) с помощью CSS. Такие тени создаются с помощью двух псевдо-элементов `:before` и `:after`. Дополнительной HTML-разметки при этом не требуется. Оба псевдо-элемента применяются только к одному элементу, который должен быть блочным. Ниже показана последовательность действий, которая совсем несложная. Статья написана по мотивам известного блога Николаса Галлахера, где показаны самые разнообразные виды таких сложных теней.

Приступаем к написанию кода. Создаем элемент `p` и для него прописываем правила (*чтобы смотрелся хорошо*):

{% highlight html %}
  <p class="lifted">
    Lifted Corners
  </p>
{% endhighlight %}

{% highlight css %}
  .lifted{
    width: 400px;
    background-color: #fff;
    text-align: center;
    font-size: 18px;
    font-weight: bold;
    line-height: 70px;
    box-shadow: 0 0 40px rgba(0,0,0,0.3) inset;
    position: relative;
  }
{% endhighlight %}

Здесь все несложно. Задаем ширину и высоту блока, а также косметическую красоту типа выравнивания по центру и придания тени для блока. Не забываем сделать блок относительно позиционированным, так как в последующих шагах нам потребуются псевдо-элементы, которые нужно будет позиционировать относительно блока-родителя.

Такой интересный момент в этом коде - нужно обязательно явно установить фоновый цвет для блока `background-color: #fff`. Иначе он будет прозрачным по умолчанию и сквозь него будут проступать наши тени.

Необходимо получить две тени, одна из которых располагается под левым углом блока, а другая - под правым. Поэтому нам потребуются два псевдо-элемента - `:before` и `:after`. Создаем правила, общие для обоих псевдо-элементов:

{% highlight css %}
  .lifted:before, .lifted:after{
    content: '';
    position: absolute;
    width: 50%;
    height: 10%;
    bottom: 15px;
    left: 4px;
    z-index: -1;
    -webkit-box-shadow: 0 15px 10px rgba(0,0,0,0.6);
       -moz-box-shadow: 0 15px 10px rgba(0,0,0,0.6);
         -o-box-shadow: 0 15px 10px rgba(0,0,0,0.6);
            box-shadow: 0 15px 10px rgba(0,0,0,0.6);
  }
{% endhighlight %}

Немного "расшифруем" показанный выше код. Устанавливаем для обоих псевдо-элементов абсолютное позиционирование и координаты: от нижней границы 15px (`bottom: 15px`) и от левой границы 4px (`left: 4px;`). Ширину элемента устанавливаем в половину от ширины элемента-родителя (`width: 50%;`), высоту - 10% от ширины этого же элемента. Один интересный момент, про который не нужно забыть - "подсовываем" тени под блок-родитель с помощью свойства `z-index: -1`. Ну и создаем сами тени правилом `box-shadow: 0 15px 10px rgba(0,0,0,0.6)`, указав браузерные префиксы.

Теперь у нас есть обе тени, но выглядят они как одна, так как первая накладывается на другую, ибо их координаты одинаковы. Поэтому нужно "разнести" их по разным углам, установив для псевдо-элемента `:after` иное позиционирование по оси X:

{% highlight css %}
  .lifted:after{
    left: auto;
    right: 4px;
  }
{% endhighlight %}

Почти все готово. Осталось только сделать для обеих теней "косину", то есть развернуть их на определенное количество градусов. Левую тень развернем против часовой стрелки, чтобы ее внутренний угол оказался под блоком-родителем. Правую развернем точно также, только по часовой стрелке, чтобы ее внутренний угол также "спрятался" под блоком. Разворачивание будем выполнять с помощью правила `transform: rotate` для псевдо-элемента `:before` -

{% highlight css %}
  -webkit-transform: rotate(-3deg);
     -moz-transform: rotate(-3deg);
       -o-transform: rotate(-3deg);
          transform: rotate(-3deg);
{% endhighlight %}

и для псевдо-элемента `:after` -

{% highlight css %}
  -webkit-transform: rotate(3deg);
     -moz-transform: rotate(3deg);
       -o-transform: rotate(3deg);
          transform: rotate(3deg);
{% endhighlight %}

Результат нашей работы можно посмотреть ниже. Красиво!

<figure id="attachment_106" style="width: 600px;" class="wp-caption aligncenter">
  [<img src="http://localhost:7788/third/wp-content/uploads/2013/11/drop-down-shadows-600x281.jpg" alt="Блок с тенями под углами" width="600" height="281" class="size-medium wp-image-106" />][1]
  <figcaption class="wp-caption-text">Блок с тенями под углами</figcaption>
</figure>

Можно немного усложнить задачу и сделать нижние уголки блока визуально приподнятыми. Создастся иллюзия того, что у блока завернутые вверх уголки, как у листочка бумаги. Для этого нужно вспомнить о том, что у свойства `border-radius` есть два параметра, а не одно. То есть, для одного угла можно задать два радиуса скругления, и тогда само скругление получиться не таким "правильным", но более реалистичным. Первый радиус делаем большого размера, а второй немного меньше. В результате угол получается не скругленным, а немного скошенным. В нашем примере для блока-родителя задаем радиусы скругления нижних углов следующим образом:

{% highlight html %}
  border-bottom-left-radius: 40px 12px;
  border-bottom-right-radius: 40px 12px;
{% endhighlight %}

Итогом получается картинка листочка бумаги с завернутыми уголками:

<figure id="attachment_107" style="width: 600px;" class="wp-caption aligncenter">
  [<img src="http://localhost:7788/third/wp-content/uploads/2013/11/curved-corners-600x281.jpg" alt="Завернутые уголки на чистом CSS" width="600" height="281" class="size-medium wp-image-107" />][2]
  <figcaption class="wp-caption-text">Завернутые уголки на чистом CSS</figcaption>
</figure>

На сайте Николаса Галлахера есть множество других примеров создания теней, которые по-настоящему впечатляют. В этой статье приведен только один из них, самый распространенный. Как видите, ничего сложного в его создании нет. Но вот на кросс-браузерность такой пример мною не рассматривался, ибо мне был важен сам результат.

 [1]: http://localhost:7788/third/wp-content/uploads/2013/11/drop-down-shadows.jpg
 [2]: http://localhost:7788/third/wp-content/uploads/2013/11/curved-corners.jpg
